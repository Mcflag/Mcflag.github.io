<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            7Flappy Bird示例 | 
        
        柒夜
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="柒夜">
    <meta name="description" itemprop="description" content="摘要Flappy Bird小游戏的实现。">
    <meta name="keywords" content="null,游戏框架">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="柒夜">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="7Flappy Bird示例 | 柒夜">
    <meta property="og:image" content="/img/favicon.png" />
    <meta property="og:description" content="摘要Flappy Bird小游戏的实现。">
    <meta property="og:article:tag" content="游戏框架"> 

    
        <meta property="article:published_time" content="Sat Sep 12 2015 21:19:43 GMT+0800" />
        <meta property="article:modified_time" content="Fri Jun 30 2017 23:13:10 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="7Flappy Bird示例 | 柒夜">
    <meta name="twitter:description" content="摘要Flappy Bird小游戏的实现。">
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://yoursite.com" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2015/09/12/Game Frame/7Flappy Bird示例/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "柒夜",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "柒夜",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": "暗夜之虫 会集光中"
    },
    "headline": "7Flappy Bird示例",
    "url": "http://yoursite.com/2015/09/12/Game Frame/7Flappy Bird示例/index.html",
    "datePublished": "Sat Sep 12 2015 21:19:43 GMT+0800",
    "dateModified": "Fri Jun 30 2017 23:13:10 GMT+0800",
    "description": "摘要Flappy Bird小游戏的实现。",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://yoursite.com"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    
    
    
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#摘要"><span class="post-toc-number">1.</span> <span class="post-toc-text">摘要</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#简介"><span class="post-toc-number">2.</span> <span class="post-toc-text">简介</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Assets类，静态加载资源"><span class="post-toc-number">3.</span> <span class="post-toc-text">Assets类，静态加载资源</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#LoadingScreen类，加载资源"><span class="post-toc-number">4.</span> <span class="post-toc-text">LoadingScreen类，加载资源</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#MainMenuScreen类，主界面"><span class="post-toc-number">5.</span> <span class="post-toc-text">MainMenuScreen类，主界面</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HighscoreScreen类"><span class="post-toc-number">6.</span> <span class="post-toc-text">HighscoreScreen类</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Settings类"><span class="post-toc-number">7.</span> <span class="post-toc-text">Settings类</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FlappyBirdGame类，游戏启动的入口"><span class="post-toc-number">8.</span> <span class="post-toc-text">FlappyBirdGame类，游戏启动的入口</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#游戏世界的抽象"><span class="post-toc-number">9.</span> <span class="post-toc-text">游戏世界的抽象</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#World类：整合世界"><span class="post-toc-number">10.</span> <span class="post-toc-text">World类：整合世界</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#GameScreen类，实现主循环"><span class="post-toc-number">11.</span> <span class="post-toc-text">GameScreen类，实现主循环</span></a></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 24 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                7Flappy Bird示例
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/touxiang.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>柒夜</strong>
        <span>9月 12, 2015</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/游戏框架/">游戏框架</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=7Flappy Bird示例&url=http://yoursite.com/2015/09/12/Game Frame/7Flappy Bird示例/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=柒夜&title=7Flappy Bird示例&summary=从零开始&pics=http://yoursite.com/img/favicon.png&url=http://yoursite.com/2015/09/12/Game Frame/7Flappy Bird示例/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>Flappy Bird小游戏的实现。<br><a id="more"></a></p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>项目依然使用前面写的框架。下面主要是加载资源，跳转界面以及实现游戏逻辑。</p>
<h2 id="Assets类，静态加载资源"><a href="#Assets类，静态加载资源" class="headerlink" title="Assets类，静态加载资源"></a>Assets类，静态加载资源</h2><pre><code>public class Assets {
    public static Pixmap background;
    public static Pixmap bird;
    public static Pixmap mainMenu;
    public static Pixmap buttons;
    public static Pixmap ready;
    public static Pixmap pause;
    public static Pixmap gameOver;
    public static Pixmap floor1;
    public static Pixmap floor2;
    public static Pixmap pipe1;
    public static Pixmap pipe2;

    // 十个数字
    public static Pixmap n0;
    public static Pixmap n1;
    public static Pixmap n2;
    public static Pixmap n3;
    public static Pixmap n4;
    public static Pixmap n5;
    public static Pixmap n6;
    public static Pixmap n7;
    public static Pixmap n8;
    public static Pixmap n9;

    public static Sound click;
    public static Sound eat;
    public static Sound bitten;

    public static Pixmap getNumber(int i) {
        switch (i) {
        case 1:
            return n1;
        case 2:
            return n2;
        case 3:
            return n3;
        case 4:
            return n4;
        case 5:
            return n5;
        case 6:
            return n6;
        case 7:
            return n7;
        case 8:
            return n8;
        case 9:
            return n9;
        default:
            return n0;
        }
    }
}
</code></pre><h2 id="LoadingScreen类，加载资源"><a href="#LoadingScreen类，加载资源" class="headerlink" title="LoadingScreen类，加载资源"></a>LoadingScreen类，加载资源</h2><pre><code>public class LoadingScreen extends Screen {
    public LoadingScreen(Game game) {
        super(game);
    }

    @Override
    public void update(float deltaTime) {
        Graphics g = game.getGraphics();
        Assets.background = g.newPixmap(&quot;flappybird/bg1.png&quot;, PixmapFormat.RGB565);
        Assets.bird = g.newPixmap(&quot;flappybird/b1.png&quot;, PixmapFormat.ARGB4444);
        Assets.mainMenu = g.newPixmap(&quot;flappybird/mainmenu.png&quot;, PixmapFormat.ARGB4444);
        Assets.buttons = g.newPixmap(&quot;flappybird/buttons.png&quot;, PixmapFormat.ARGB4444);

        Assets.ready = g.newPixmap(&quot;flappybird/ready.png&quot;, PixmapFormat.ARGB4444);
        Assets.pause = g.newPixmap(&quot;flappybird/pausemenu.png&quot;, PixmapFormat.ARGB4444);
        Assets.gameOver = g.newPixmap(&quot;flappybird/gameover.png&quot;, PixmapFormat.ARGB4444);

        Assets.floor1 = g.newPixmap(&quot;flappybird/d1.png&quot;, PixmapFormat.ARGB4444);
        Assets.floor2 = g.newPixmap(&quot;flappybird/d2.png&quot;, PixmapFormat.ARGB4444);
        Assets.pipe1 = g.newPixmap(&quot;flappybird/g2.png&quot;, PixmapFormat.ARGB4444);
        Assets.pipe2 = g.newPixmap(&quot;flappybird/g1.png&quot;, PixmapFormat.ARGB4444);

        Assets.n0 = g.newPixmap(&quot;flappybird/n0.png&quot;, PixmapFormat.ARGB4444);
        Assets.n1 = g.newPixmap(&quot;flappybird/n1.png&quot;, PixmapFormat.ARGB4444);
        Assets.n2 = g.newPixmap(&quot;flappybird/n2.png&quot;, PixmapFormat.ARGB4444);
        Assets.n3 = g.newPixmap(&quot;flappybird/n3.png&quot;, PixmapFormat.ARGB4444);
        Assets.n4 = g.newPixmap(&quot;flappybird/n4.png&quot;, PixmapFormat.ARGB4444);
        Assets.n5 = g.newPixmap(&quot;flappybird/n5.png&quot;, PixmapFormat.ARGB4444);
        Assets.n6 = g.newPixmap(&quot;flappybird/n6.png&quot;, PixmapFormat.ARGB4444);
        Assets.n7 = g.newPixmap(&quot;flappybird/n7.png&quot;, PixmapFormat.ARGB4444);
        Assets.n8 = g.newPixmap(&quot;flappybird/n8.png&quot;, PixmapFormat.ARGB4444);
        Assets.n9 = g.newPixmap(&quot;flappybird/n9.png&quot;, PixmapFormat.ARGB4444);

        Assets.click = game.getAudio().newSound(&quot;flappybird/click.ogg&quot;);
        Assets.eat = game.getAudio().newSound(&quot;flappybird/eat.ogg&quot;);
        Assets.bitten = game.getAudio().newSound(&quot;flappybird/bitten.ogg&quot;);
        Settings.load(game.getFileIO());
        game.setScreen(new MainMenuScreen(game));
    }

    @Override
    public void present(float deltaTime) {

    }

    @Override
    public void pause() {

    }

    @Override
    public void resume() {

    }

    @Override
    public void dispose() {

    }
}
</code></pre><h2 id="MainMenuScreen类，主界面"><a href="#MainMenuScreen类，主界面" class="headerlink" title="MainMenuScreen类，主界面"></a>MainMenuScreen类，主界面</h2><pre><code>public class MainMenuScreen extends Screen{
    public MainMenuScreen(Game game) {
        super(game);               
    }   

    @Override
    public void update(float deltaTime) {
        Graphics g = game.getGraphics();
        List&lt;TouchEvent&gt; touchEvents = game.getInput().getTouchEvents();
        game.getInput().getKeyEvents();       

        int len = touchEvents.size();
        for(int i = 0; i &lt; len; i++) {
            TouchEvent event = touchEvents.get(i);
            if(event.type == TouchEvent.TOUCH_UP) {
                if(inBounds(event, 0, g.getHeight() - 64, 64, 64)) {
                    Settings.soundEnabled = !Settings.soundEnabled;
                    if(Settings.soundEnabled)
                        Assets.click.play(1);
                }
                if(inBounds(event, 64, 220, 192, 42) ) {
                    game.setScreen(new GameScreen(game));
                    if(Settings.soundEnabled)
                        Assets.click.play(1);
                    return;
                }
                if(inBounds(event, 64, 220 + 42, 192, 42) ) {
                    game.setScreen(new HighscoreScreen(game));
                    if(Settings.soundEnabled)
                        Assets.click.play(1);
                    return;
                }
            }
        }
    }

    private boolean inBounds(TouchEvent event, int x, int y, int width, int height) {
        if(event.x &gt; x &amp;&amp; event.x &lt; x + width - 1 &amp;&amp; event.y &gt; y &amp;&amp; event.y &lt; y + height - 1) 
            return true;
        else
            return false;
    }

    @Override
    public void present(float deltaTime) {
        Graphics g = game.getGraphics();

        g.drawPixmap(Assets.background, 0, 0);
        g.drawPixmap(Assets.mainMenu, 64, 220);
        if(Settings.soundEnabled)
            g.drawPixmap(Assets.buttons, 0, 416, 0, 0, 64, 64);
        else
            g.drawPixmap(Assets.buttons, 0, 416, 64, 0, 64, 64);
    }

    @Override
    public void pause() {        
        Settings.save(game.getFileIO());
    }

    @Override
    public void resume() {

    }

    @Override
    public void dispose() {

    }
}
</code></pre><h2 id="HighscoreScreen类"><a href="#HighscoreScreen类" class="headerlink" title="HighscoreScreen类"></a>HighscoreScreen类</h2><pre><code>public class HighscoreScreen extends Screen {
    String lines[] = new String[5];

    public HighscoreScreen(Game game) {
        super(game);

        for (int i = 0; i &lt; 5; i++) {
            lines[i] = &quot;&quot; + (i + 1) + &quot;. &quot; + Settings.highscores[i];
        }
    }

    @Override
    public void update(float deltaTime) {
        List&lt;TouchEvent&gt; touchEvents = game.getInput().getTouchEvents();
        game.getInput().getKeyEvents();

        int len = touchEvents.size();
        for (int i = 0; i &lt; len; i++) {
            TouchEvent event = touchEvents.get(i);
            if (event.type == TouchEvent.TOUCH_UP) {
                if (event.x &lt; 64 &amp;&amp; event.y &gt; 416) {
                    if (Settings.soundEnabled)
                        Assets.click.play(1);
                    game.setScreen(new MainMenuScreen(game));
                    return;
                }
            }
        }
    }

    @Override
    public void present(float deltaTime) {
        Graphics g = game.getGraphics();

        g.drawPixmap(Assets.background, 0, 0);
        g.drawPixmap(Assets.mainMenu, 64, 20, 0, 42, 196, 42);

        int y = 100;
        for (int i = 0; i &lt; 5; i++) {
            drawText(g, lines[i], 20, y);
            y += 50;
        }

        g.drawPixmap(Assets.buttons, 0, 416, 64, 64, 64, 64);
    }

    public void drawText(Graphics g, String line, int x, int y) {
        int len = line.length();
        for (int i = 0; i &lt; len; i++) {
            char character = line.charAt(i);

            if (character == &apos; &apos;) {
                x += 20;
                continue;
            }

            int srcX = 0;
            int srcWidth = 0;
            if (character == &apos;.&apos;) {
                // srcX = 200;
                // srcWidth = 10;
                x += 20;
                continue;
            } else {
                srcX = (character - &apos;0&apos;) * 20;
                srcWidth = 20;
            }
            int name = 0;
            if ((character - &apos;0&apos;) &gt;= 0 &amp;&amp; (character - &apos;0&apos;) &lt;= 9) {
                name = character - &apos;0&apos;;
            }
            g.drawPixmap(Assets.getNumber(name), x, y);

            // g.drawPixmap(Assets.numbers, x, y, srcX, 0, srcWidth, 32);
            x += srcWidth;
        }
    }

    @Override
    public void pause() {

    }

    @Override
    public void resume() {

    }

    @Override
    public void dispose() {

    }
}
</code></pre><h2 id="Settings类"><a href="#Settings类" class="headerlink" title="Settings类"></a>Settings类</h2><pre><code>public class Settings {
    public static boolean soundEnabled = false;
    public static int[] highscores = new int[] { 10, 8, 5, 3, 1 };

    public static void load(FileIO files) {
        BufferedReader in = null;
        try {
            in = new BufferedReader(new InputStreamReader(files.readFile(&quot;.bird&quot;)));
            soundEnabled = Boolean.parseBoolean(in.readLine());
            for (int i = 0; i &lt; 5; i++) {
                highscores[i] = Integer.parseInt(in.readLine());
            }
        } catch (IOException e) {
            // :( It&apos;s ok we have defaults
        } catch (NumberFormatException e) {
            // :/ It&apos;s ok, defaults save our day
        } finally {
            try {
                if (in != null)
                    in.close();
            } catch (IOException e) {
            }
        }
    }

    public static void save(FileIO files) {
        BufferedWriter out = null;
        try {
            out = new BufferedWriter(new OutputStreamWriter(files.writeFile(&quot;.bird&quot;)));
            out.write(Boolean.toString(soundEnabled));
            out.write(&quot;\n&quot;);
            for (int i = 0; i &lt; 5; i++) {
                out.write(Integer.toString(highscores[i]));
                out.write(&quot;\n&quot;);
            }

        } catch (IOException e) {
        } finally {
            try {
                if (out != null)
                    out.close();
            } catch (IOException e) {
            }
        }
    }

    public static void addScore(int score) {
        for (int i = 0; i &lt; 5; i++) {
            if (highscores[i] &lt; score) {
                for (int j = 4; j &gt; i; j--)
                    highscores[j] = highscores[j - 1];
                highscores[i] = score;
                break;
            }
        }
    }
}
</code></pre><h2 id="FlappyBirdGame类，游戏启动的入口"><a href="#FlappyBirdGame类，游戏启动的入口" class="headerlink" title="FlappyBirdGame类，游戏启动的入口"></a>FlappyBirdGame类，游戏启动的入口</h2><pre><code>public class FlappyBirdGame extends AndroidGame{
    @Override
    public Screen getStartScreen() {
        return new LoadingScreen(this);
    }
}
</code></pre><h2 id="游戏世界的抽象"><a href="#游戏世界的抽象" class="headerlink" title="游戏世界的抽象"></a>游戏世界的抽象</h2><p>Bird类：</p>
<pre><code>public class Bird {

    public static final int width = 34;
    public static final int height = 24;

    public int x;
    public int y;
    public Rect birdRect;

    public Bird(int x, int y) {
        this.x = x;
        this.y = y;
        birdRect = new Rect(x, y, x + width, y + height);
    }

    public void moveUpAndDown(int deltaY) {
        y = y + deltaY;
        birdRect = new Rect(x, y, x + width, y + height);
    }

    public boolean checkOverScreen() {
        if (y &lt;= 0 || y &gt;= 365) {
            return true;
        }
        return false;
    }
}
</code></pre><p>Pipe类：</p>
<pre><code>public class Pipe {

    public int left;
    public int gapY;
    public int gapHeight;

    public Rect upRect;
    public Rect downRect;

    public boolean isScore = false;
    public boolean first = true;

    public Pipe(int x, int gapY, int gapHeight) {
        left = x;
        this.gapY = gapY;
        this.gapHeight = gapHeight;

        upRect = new Rect(left, 0, left + 52, gapY);
        downRect = new Rect(left, gapY + gapHeight, left + 52, 480);
    }

    public void update(int x) {
        left = left - x;
        upRect.set(left, 0, left + 52, gapY);
        downRect.set(left, gapY + gapHeight, left + 52, 480);
        checkIsScore();
    }

    public void checkIsScore() {
        if (left + 52 &lt; 80 &amp;&amp; first) {
            isScore = true;
        }
    }

    public void scoreOver() {
        isScore = false;
        first = false;
    }
}
</code></pre><p>Floor类：</p>
<pre><code>public class Floor {

    private int state = 1;

    private int x;
    private int y;

    public Floor(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public void setState(int state) {
        this.state = state;
    }

    public int getState() {
        return state;
    }

    public int getX() {
        return x;
    }

    public void setX(int x) {
        this.x = x;
    }

    public int getY() {
        return y;
    }

}
</code></pre><h2 id="World类：整合世界"><a href="#World类：整合世界" class="headerlink" title="World类：整合世界"></a>World类：整合世界</h2><pre><code>public class World {
    static final int SCORE_INCREMENT = 1;

    public static final int startX = 80;
    public static final int startY = 200;
    public static final int floorStartX = 0;
    public static final int floorStartY = 384;
    public static final int pipeStartX = 250;

    private static final float TICK_INITIAL = 0.08f;

    public Bird bird;
    public Floor floor;
    public ArrayList&lt;Pipe&gt; pipes;
    public boolean gameOver = false;
    public int score = 0;
    public int deltaY = 0;
    public float gravity = 0;
    public static float velocityY = 0;
    public static int pipeVelocity = 10;

    float tickTime = 0;
    static float tick = TICK_INITIAL;
    Random random;
    int randNumY = 0;
    int randNumHeight = 0;

    public World(float g) {
        bird = new Bird(startX, startY);
        floor = new Floor(floorStartX, floorStartY);
        pipes = new ArrayList&lt;Pipe&gt;();
        gravity = g;
        Random random = new Random();
        randNumHeight = random.nextInt(151) + 50;
        randNumY = random.nextInt(278 - randNumHeight) + 45;
        pipes.add(new Pipe(pipeStartX, randNumY, randNumHeight));
    }

    public void addNewPipe() {

    }

    public void setGravity(float gravity) {
        this.gravity = gravity;
    }

    public void update(float deltaTime) {
        if (gameOver)
            return;

        tickTime += deltaTime;

        while (tickTime &gt; tick) {
            tickTime -= tick;

            velocityY += gravity * tick;
            deltaY = (int) (velocityY * tick);
            bird.moveUpAndDown(deltaY);
            if (floor.getState() == 1) {
                floor.setState(2);
            } else if (floor.getState() == 2) {
                floor.setState(1);
            }
            if (bird.checkOverScreen()) {
                gameOver = true;
                return;
            }
            for (int i = 0; i &lt; pipes.size(); i++) {
                pipes.get(i).update(pipeVelocity);
                if (i == 0) {
                    if (pipes.get(i).left &lt;= -52) {
                        pipes.remove(i);
                    }
                }
                if (i == pipes.size() - 1) {
                    if (pipes.get(i).left &lt;= 60) {
                        Random random = new Random();
                        randNumHeight = random.nextInt(151) + 50;
                        randNumY = random.nextInt(278 - randNumHeight) + 45;
                        pipes.add(new Pipe(320, randNumY, randNumHeight));
                    }
                }
                if (pipes.get(i).isScore) {
                    score += 1;
                    pipes.get(i).scoreOver();
                }
                if (checkBirdPipeCollision(bird.birdRect, pipes.get(i).upRect) || checkBirdPipeCollision(bird.birdRect, pipes.get(i).downRect)) {
                    gameOver = true;
                    return;
                }
            }
        }
    }

    private boolean checkBirdPipeCollision(Rect a, Rect b) {
        if (a.right &lt; b.left || a.left &gt; b.right || a.top &gt; b.bottom || a.bottom &lt; b.top) {
            // 没有重合
            return false;
        } else {
            // 有重合
            return true;
        }
    }

    public void reset() {
        velocityY = 0;
        score = 0;
    }
}
</code></pre><h2 id="GameScreen类，实现主循环"><a href="#GameScreen类，实现主循环" class="headerlink" title="GameScreen类，实现主循环"></a>GameScreen类，实现主循环</h2><pre><code>public class GameScreen extends Screen {

    public static final float GRAVITY = 140.0f;

    enum GameState {
        Ready, Running, Paused, GameOver
    }

    GameState state = GameState.Ready;
    World world;
    int oldScore = 0;
    String score = &quot;0&quot;;

    public GameScreen(Game game) {
        super(game);
        world = new World(GRAVITY);
    }

    @Override
    public void update(float deltaTime) {
        List&lt;TouchEvent&gt; touchEvents = game.getInput().getTouchEvents();
        game.getInput().getKeyEvents();

        if (state == GameState.Ready)
            updateReady(touchEvents);
        if (state == GameState.Running)
            updateRunning(touchEvents, deltaTime);
        if (state == GameState.Paused)
            updatePaused(touchEvents);
        if (state == GameState.GameOver)
            updateGameOver(touchEvents);
    }

    private void updateReady(List&lt;TouchEvent&gt; touchEvents) {
        if (touchEvents.size() &gt; 0) {
            world.reset();
            state = GameState.Running;
        }
    }

    private void updateRunning(List&lt;TouchEvent&gt; touchEvents, float deltaTime) {
        int len = touchEvents.size();
        for (int i = 0; i &lt; len; i++) {
            TouchEvent event = touchEvents.get(i);
            if (event.type == TouchEvent.TOUCH_UP) {
                if (event.x &lt; 64 &amp;&amp; event.y &lt; 64) {
                    if (Settings.soundEnabled)
                        Assets.click.play(1);
                    state = GameState.Paused;
                    return;
                }
                world.setGravity(GRAVITY);
            } else if (event.type == TouchEvent.TOUCH_DOWN) {
                if (event.x &lt; 64 &amp;&amp; event.y &lt; 64) {

                } else {
                    world.setGravity(-GRAVITY);
                }
            }
        }

        world.update(deltaTime);
        if (world.gameOver) {
            if (Settings.soundEnabled)
                Assets.bitten.play(1);
            state = GameState.GameOver;
        }
        if (oldScore != world.score) {
            oldScore = world.score;
            score = &quot;&quot; + oldScore;
            if (Settings.soundEnabled)
                Assets.eat.play(1);
        }
    }

    private void updatePaused(List&lt;TouchEvent&gt; touchEvents) {
        int len = touchEvents.size();
        for (int i = 0; i &lt; len; i++) {
            TouchEvent event = touchEvents.get(i);
            if (event.type == TouchEvent.TOUCH_UP) {
                if (event.x &gt; 80 &amp;&amp; event.x &lt;= 240) {
                    if (event.y &gt; 100 &amp;&amp; event.y &lt;= 148) {
                        if (Settings.soundEnabled)
                            Assets.click.play(1);
                        state = GameState.Running;
                        return;
                    }
                    if (event.y &gt; 148 &amp;&amp; event.y &lt; 196) {
                        if (Settings.soundEnabled)
                            Assets.click.play(1);
                        game.setScreen(new MainMenuScreen(game));
                        return;
                    }
                }
            }
        }
    }

    private void updateGameOver(List&lt;TouchEvent&gt; touchEvents) {
        int len = touchEvents.size();
        for (int i = 0; i &lt; len; i++) {
            TouchEvent event = touchEvents.get(i);
            if (event.type == TouchEvent.TOUCH_UP) {
                if (event.x &gt;= 128 &amp;&amp; event.x &lt;= 192 &amp;&amp; event.y &gt;= 200 &amp;&amp; event.y &lt;= 264) {
                    if (Settings.soundEnabled)
                        Assets.click.play(1);
                    game.setScreen(new MainMenuScreen(game));
                    return;
                }
            }
        }
    }

    @Override
    public void present(float deltaTime) {
        Graphics g = game.getGraphics();

        g.drawPixmap(Assets.background, 0, 0);
        drawWorld(world);
        if (state == GameState.Ready)
            drawReadyUI();
        if (state == GameState.Running)
            drawRunningUI();
        if (state == GameState.Paused)
            drawPausedUI();
        if (state == GameState.GameOver)
            drawGameOverUI();

        drawText(g, score, g.getWidth() / 2 - score.length() * 20 / 2, g.getHeight() - 42);
    }

    private void drawWorld(World world) {
        Graphics g = game.getGraphics();
        Bird bird = world.bird;
        Floor floor = world.floor;

        Pixmap birdPixmap = null;
        birdPixmap = Assets.bird;
        g.drawPixmap(birdPixmap, bird.x, bird.y);
        for (int i = 0; i &lt; world.pipes.size(); i++) {
            if (world.pipes.get(i).left &lt; 0) {
                g.drawPixmap(Assets.pipe1, //
                        0, //
                        0, //
                        -world.pipes.get(i).left, //
                        320 - world.pipes.get(i).gapY, //
                        52 + world.pipes.get(i).left, //
                        world.pipes.get(i).gapY //
                );
                g.drawPixmap(Assets.pipe2, //
                        0, //
                        world.pipes.get(i).downRect.top, //
                        -world.pipes.get(i).left, //
                        0, //
                        52 + world.pipes.get(i).left, //
                        321 //
                );

            } else {
                g.drawPixmap(Assets.pipe1, //
                        world.pipes.get(i).left, //
                        0, //
                        0, //
                        320 - world.pipes.get(i).gapY, //
                        52,//
                        world.pipes.get(i).gapY //
                );
                g.drawPixmap(Assets.pipe2, //
                        world.pipes.get(i).left, //
                        world.pipes.get(i).downRect.top, //
                        0, //
                        0, //
                        52, //
                        321 //
                );
            }
        }

        if (floor.getState() == 1) {
            g.drawPixmap(Assets.floor1, 0, 384, 0, 0, 320, 112);
        } else if (floor.getState() == 2) {
            g.drawPixmap(Assets.floor2, 0, 384, 0, 0, 320, 112);
        }
    }

    private void drawReadyUI() {
        Graphics g = game.getGraphics();

        g.drawPixmap(Assets.ready, 47, 100);
    }

    private void drawRunningUI() {
        Graphics g = game.getGraphics();

        g.drawPixmap(Assets.buttons, 0, 0, 64, 128, 64, 64);
    }

    private void drawPausedUI() {
        Graphics g = game.getGraphics();

        g.drawPixmap(Assets.pause, 80, 100);
    }

    private void drawGameOverUI() {
        Graphics g = game.getGraphics();

        g.drawPixmap(Assets.gameOver, 62, 100);
        g.drawPixmap(Assets.buttons, 128, 200, 0, 128, 64, 64);
    }

    public void drawText(Graphics g, String line, int x, int y) {
        int len = line.length();
        for (int i = 0; i &lt; len; i++) {
            char character = line.charAt(i);

            if (character == &apos; &apos;) {
                x += 20;
                continue;
            }

            int srcX = 0;
            int srcWidth = 0;
            if (character == &apos;.&apos;) {
                x += 20;
                continue;
            } else {
                srcX = (character - &apos;0&apos;) * 20;
                srcWidth = 20;
            }
            int name = 0;
            if ((character - &apos;0&apos;) &gt;= 0 &amp;&amp; (character - &apos;0&apos;) &lt;= 9) {
                name = character - &apos;0&apos;;
            }
            g.drawPixmap(Assets.getNumber(name), x, y);
            x += srcWidth;
        }
    }

    @Override
    public void pause() {
        if (state == GameState.Running)
            state = GameState.Paused;

        if (world.gameOver) {
            Settings.addScore(world.score);
            Settings.save(game.getFileIO());
        }
    }

    @Override
    public void resume() {

    }

    @Override
    public void dispose() {

    }
}            
</code></pre>
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2015/09/12/Game Frame/8OpenGL示例下/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2015/09/06/Game Frame/6OpenGL示例/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/touxiang.jpg" alt="柒夜's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        whu_cc@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: whu_cc@163.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/10/">十月 2015<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/09/">九月 2015<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/08/">八月 2015<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/07/">七月 2015<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/06/">六月 2015<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/05/">五月 2015<span class="sidebar_archives-count">8</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/技术宅/">技术宅<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/gallery" title="相册">
                
                    <i class="material-icons sidebar-material-icons">photo</i>
                
                相册
            </a>
        </li>
        
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">label_outline</i>
                
                标签云
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/links" title="友情链接">
                
                    <i class="material-icons sidebar-material-icons">link</i>
                
                友情链接
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于我">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于我
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">47</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>柒夜
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
